<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title></title>
    <link href="Content/bootstrap.min.css" rel="stylesheet" />
    <script src="Scripts/jquery-1.9.1.js"></script>
    <script src="Scripts/bootstrap.min.js"></script>
    <script src="Scripts/moment.min.js"></script>
    <script src="Scripts/moment-with-locales.js"></script>
</head>

<body>
    <div class="text-center">


        <canvas id="canvas" height="200" width="200"
            style="background-color:aliceblue;margin:0 auto;margin-top:20px"></canvas>
        <div id="aa1">xxxx-xx-xx</div>
        <div id="aa2">xx:xx:xx</div>
    </div>
    <script>
        function drawCircular(oxInput, oyInput, radiusInput, fillStyle, which) {
            ctx.beginPath();
            ctx.arc(oxInput, oyInput, radiusInput, Math.PI * (-0.5), Math.PI * (-0.5) + Math.PI * 2 / 12 * which, false);
            var gradient = ctx.createLinearGradient(0, 0, 170, 0);
            gradient.addColorStop("0", "#f1e6fb");
            gradient.addColorStop("0.2", "#7a2696");
            gradient.addColorStop("0.5", "#ee5944");
            gradient.addColorStop("1.0", "#ff7d4e");
            ctx.lineWidth = 3;
            ctx.strokeStyle = gradient;
            ctx.stroke();

            ctx.beginPath();
            ctx.arc(oxInput, oyInput, radiusInput, Math.PI * (-0.5) + Math.PI * 2 / 12 * which, Math.PI * 1.5, false);


            ctx.lineWidth = 3;
            ctx.strokeStyle = "#bbbcbb";
            ctx.stroke();


        }
        function drawRect(x, y, x1, y1) {
            ctx.rect(x, y, x1, y1);
            ctx.stroke();
        }
        function drawSplit() {
            var numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
            a = 0;
            b = 0;
            var a1 = [];
            numbers.forEach(function (item) {
                if (item % 3 == 0) {
                    a1.push([Math.sin(Math.PI * 2 / 12 * item) * (radius + 6) + ox, oy - Math.cos(Math.PI * 2 / 12 * item) * (radius + 6)]);
                }
                else {
                    a1.push([Math.sin(Math.PI * 2 / 12 * item) * (radius + 2) + ox, oy - Math.cos(Math.PI * 2 / 12 * item) * (radius + 2)]);
                }
            })
            var a2 = [];
            numbers.forEach(function (item) {

                if (item % 3 == 0) {
                    a2.push([Math.sin(Math.PI * 2 / 12 * item) * (radius - 8) + ox, oy - Math.cos(Math.PI * 2 / 12 * item) * (radius - 8)]);
                }
                else {
                    a2.push([Math.sin(Math.PI * 2 / 12 * item) * (radius - 4) + ox, oy - Math.cos(Math.PI * 2 / 12 * item) * (radius - 4)]);
                }
            })

            for (var i = 0; i < a1.length; i++) {
                var x1 = a1[i];
                var xx1 = a2[i];
                ctx.lineWidth = 2; //设置线宽
                if ((i + 1) % 3 == 0) {
                    ctx.strokeStyle = '#2e427c'
                }
                else {
                    ctx.strokeStyle = '#ffffff'
                }
                ctx.beginPath();

                ctx.moveTo(x1[0], x1[1])
                ctx.lineTo(xx1[0], xx1[1]);

                ctx.stroke();
            }





        }
        function currentTime(m1, m2, m3) {

            if (m1 > 12) {
                m1 = m1 - 12;
            }

            ctx.clearRect(0, 0, 200, 200);

            drawCircular(ox, oy, radius, '#7a2969', m1)

            drawSplit();

            var numbers1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
            var numbers2 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,
                41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60
            ];

            var numbers3 =
                [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,
                    41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60
                ];

            a = 0;
            b = 0;
            var a1 = [];
            var a2 = [];
            var a3 = [];
            numbers1.forEach(function (item) {
                a1.push([100, 100]);
            })

            numbers2.forEach(function (item) {
                a2.push([100, 100]);
            })

            numbers3.forEach(function (item) {
                a3.push([100, 100]);
            })

            var b1 = [];
            var b2 = [];
            var b3 = [];
            numbers1.forEach(function (item) {
                b1.push([Math.sin(Math.PI * 2 / 12 * (item - 1)) * (radius - 25) + ox, oy - Math.cos(Math.PI * 2 / 12 * (item - 1)) * (radius - 25)]);

            })

            numbers2.forEach(function (item) {
                b2.push([Math.sin(Math.PI * 2 / 60 * (item - 1)) * (radius - 10) + ox, oy - Math.cos(Math.PI * 2 / 60 * (item - 1)) * (radius - 10)]);
            })

            numbers3.forEach(function (item) {
                b3.push([Math.sin(Math.PI * 2 / 60 * (item - 1)) * (radius - 2) + ox, oy - Math.cos(Math.PI * 2 / 60 * (item - 1)) * (radius - 2)]);
            })


            var x1 = a1[m1];
            var xx1 = b1[m1];
            ctx.lineWidth = 3; //设置线宽
            ctx.strokeStyle = '#2e427c'
            ctx.beginPath();
            ctx.moveTo(x1[0], x1[1])
            ctx.lineTo(xx1[0], xx1[1]);

            ctx.stroke();


            x1 = a2[m2];
            xx1 = b2[m2];
            ctx.lineWidth = 2; //设置线宽

            ctx.strokeStyle = '#2e427c'

            ctx.beginPath();

            ctx.moveTo(x1[0], x1[1])
            ctx.lineTo(xx1[0], xx1[1]);

            ctx.stroke();

            x1 = a3[m3];
            xx1 = b3[m3];
            ctx.lineWidth = 1; //设置线宽

            ctx.strokeStyle = '#2e427c'

            ctx.beginPath();

            ctx.moveTo(x1[0], x1[1])
            ctx.lineTo(xx1[0], xx1[1]);

            ctx.stroke();






        }
        var canvas = document.getElementById('canvas');
        ctx = canvas.getContext('2d');
        radius = 80;
        ox = 100, oy = 100; //圆心


        function ff() {
            var d = new Date();
            var v1 = d.getHours();
            var v2 = d.getMinutes();
            var v3 = d.getSeconds();
            currentTime(v1, v2, v3);

        }

        setInterval(function () { ff() }, 1000)

        setInterval(function () {
            $('#aa1').html(moment().format('L'));

            $('#aa2').html(moment().format('HH:mm:ss'));
        }, 1000)



    </script>
</body>

</html>